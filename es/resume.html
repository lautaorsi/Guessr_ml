<html>
    <head>
        <link rel="icon" href="../static/logo.png">
        <script src="https://randojs.com/2.0.0.js"></script>
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
        crossorigin=""/> 
    <script type="text/javascript" src="../leaflet/leaflet.js"></script>
        <link rel="stylesheet" href="../resume.css" type="text/css">
        <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Gabarito&family=Mukta&family=Roboto&family=Merriweather Sans">
        <script src="https://kit.fontawesome.com/493860cbeb.js" crossorigin="anonymous"></script>
    </head>
    <body>
        <title>VideoGuessr - Resumen</title>
        <a onclick="got()">
            <button id="return" >
                <i class="fa-solid fa-arrow-left" style="color: #000000;"></i>
            </button>
        </a>
        <div id="main_lobby">
            <div id="main_container">
                <h1 id="title">Marcador</h1>
                <div id="players">
                </div>
            </div>
        </div>
        <div class="bott_container">
            <div class="mobile_credit">
                <a href="https://www.videoguessr.com/en/creditos.html" target="_blank">Creditos</a>
            </div>
            <div class="credit_cont" id="credit_cont">
                <div id="credit_title">Creditos:</div>
            </div>
        </div>
    


    <script>
        function got(){
                window.location.href = 'index.html'
        }
    </script>

    <script>
        const scores = JSON.parse(localStorage.getItem('scores'));
        const credits = JSON.parse(localStorage.getItem('credits'));
        func(scores)
 
        function func(list){
            for(let element in list){
                var x = document.createElement('div');
                x.classList.add('player', element);
                x.innerHTML = `${list[element].username} <p class="right score">${list[element].points}</p>`;
                document.getElementById("players").appendChild(x);
            }

            document.getElementsByClassName(`player`)[0].classList.add('winner', 'p1')
            document.getElementsByClassName(`player`)[1].classList.add('winner','p2')
            if((document.getElementsByClassName('player')).length >= 3){
                document.getElementsByClassName(`player`)[2].classList.add('winner','p3')
            }

            //paint gold
            document.getElementsByClassName(`player`)[0].style.backgroundColor = '#ffd700'
            //paint silver
            document.getElementsByClassName(`player`)[1].style.backgroundColor = '#c0c0c0'
            if((document.getElementsByClassName('player')).length >= 3){
                //paint copper
                document.getElementsByClassName(`player`)[2].style.backgroundColor = '#b87333'
            }
        }

        credits.forEach(function(element) {
            var x = document.createElement('div');
            x.classList.add('credit');
            x.innerHTML = `${element['round']}: <a href="${element['link']}" style='color:#c8c8c8;' target="_blank">${element['name']}</a>`;
            document.getElementById("credit_cont").appendChild(x);
        })


    </script>


    <script>
        if (window.performance.getEntriesByType) {
            if (window.performance.getEntriesByType("navigation")[0].type === "reload") {
                window.location.href = './index.html';
            }
        }
    </script>



    </body>
</html>